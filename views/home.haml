#wrap
  #header
    != partial :header
  #nav
  #sidebar
    != partial :sidebar
  #main
    #two{ :style => "display:none;opacity:0;" }
      %a{ :href => "http://www.theclayschool.com/openstudios.html", :target => "_blank" }
        %img{ :src => '/images/openstudios.jpg', :width => "500", :alt => "Open Studios. 21-22 Nov." }
      %br <a href="http://lydiapinkhamopenstudios.com">Lydia Pinkham Open Studios</a>
    #one{ :style => "display:inline;opacity:1;" }
      %a{ :href => "/paintings/view/12" }
        %img{ :src => '/images/spiaggia.jpg', :alt => "Spiaggia. 10x14. Oil on canvas. 2012."  }
      %br <em>Spiaggia</em>, 2012. Oil on canvas. 10 x 14 inches
    %script
      var start = 5000;
      setTimeout(swap, start);

      function swap() {
      one = document.getElementById("one");
      two = document.getElementById("two");

      if (one.style.display == "inline") {
      var step = 3000;
      var inc = 0.02;
      var total = 0;
      
      for (var i = 0; i <= 1; i+=inc) {
      setTimeout(setOpacity, start + i*step, one, 1-i);
      setTimeout(setOpacity, start + step + i*step, two, i);
      setTimeout(setOpacity, 2*start + step + i*step, one, i);
      setTimeout(setOpacity, 2*start + 2*step + i*step, two, 1-i);
      }

      setTimeout(hide, start+step+1, one);
      setTimeout(show, start+step+1, two);

      setTimeout(hide, 2*start+2*step+1, two);
      setTimeout(show, 2*start+2*step+1, one);

      } // if
      
      } // swap()

      function setOpacity(el, opacity) {
      el.style.opacity = opacity;
      el.style.opacity = "alpha(opacity="+(100*opacity)+")";
      } 

      function hide(el) {
      el.style.display = "none";
      }

      function show(el) {
      el.style.display = "inline";
      }
    
    != partial :share_buttons
  #footer
    != partial :footer
